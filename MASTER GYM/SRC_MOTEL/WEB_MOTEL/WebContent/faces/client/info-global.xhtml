<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <p:tab title="#{msg['view.header.member.global']}">
        <p:fieldset legend="#{msg['view.header.member.contact']}">
            <div class="Card">
                <div class="Container100 Responsive50">

                    <div class="Container25 Responsive50" hidden="true">
                        <span class="md-inputfield">
                            <p:inputText value="#{clientController.curClient.cmt}"
                                         id="memberCode"
                                         title="#{msg['client.cmt']}"

                                         >
                            </p:inputText>

                            <label>#{msg['client.cmt']}</label>
                        </span>
                        <p:message for="memberCode"></p:message>
                    </div>
                    <div class="Container25 Responsive50">
                        <span class="md-inputfield">
                            <p:inputText value="#{clientController.curClient.name}"
                                         id="clientName"
                                         title="#{msg['client.name']}"
                                         required="true"
                                         requiredMessage="#{msg['common.required'].replace('{0}',msg['client.name'])}"
                                         >
                            </p:inputText>

                            <label>#{msg['client.name']} *</label>
                        </span>
                        <p:message for="clientName"></p:message>
                    </div>
                    <div class="Container25 Responsive50">
                        <span class="md-inputfield">
                            <p:inputText value="#{clientController.curClient.cardCode}"
                                         id="cardCode"
                                         title="#{msg['client.cardCode']}"
                                         required="true" onkeypress="if (event.keyCode == 13) {
                                                     return false;
                                                 }"
                                         requiredMessage="#{msg['common.required'].replace('{0}',msg['client.cardCode'])}"
                                         >
                            </p:inputText>

                            <label>#{msg['client.cardCode']} *</label>
                        </span>
                        <p:message for="cardCode"></p:message>
                    </div>
                    <div class="Container25 Responsive50">
                        <span class="md-inputfield">
                            <p:inputMask value="#{clientController.curClient.phoneNumber}"
                                         id="phoneNumber"
                                         title="#{msg['datatable.header.phoneNumber']}"
                                         required="false"
                                         requiredMessage="#{msg['common.required'].replace('{0}',msg['datatable.header.phoneNumber'])}"
                                         mask="9999999999?9">
                            </p:inputMask>
                            <p:message for="phoneNumber"></p:message>
                            <label>#{msg['datatable.header.phoneNumber']} *</label>
                        </span>
                    </div>

                </div>
                <div class="Container100 Responsive50 MarTop20">


                    <div class="Container25 Responsive50">

                        <span class="title-top">
                            <p:selectOneRadio id="sex"
                                              value="#{clientController.curClient.sex}"
                                              required="true" style=""
                                              >
                                <f:selectItem itemLabel="#{msg['view.label.sexMale']}"
                                              itemValue="#{msg['view.label.sexMale']}"/>
                                <f:selectItem itemLabel="#{msg['view.label.sexFemale']}"
                                              itemValue="#{msg['view.label.sexFemale']}"/>
                                <p:ajax event="change" update="@widgetVar(lighbox)"/>
                            </p:selectOneRadio>
                            <label class="title-elem">#{msg['datatable.header.sex']} *</label>
                        </span>


                        <p:message for="sex"></p:message>
                    </div>
                    <div class="Container25 Responsive50">
                        <span class="title-top">
                            <p:calendar value="#{clientController.curClient.birthDay}"
                                        locale="#{language.localeCode}"
                                        maxdate="#{currentDate}" styleClass="CalendarSearch"
                                        id="birthDay"
                                        showButtonPanel="false" style="width: calc(100% - 15px)"
                                        title="#{msg['datatable.header.birthDay']}"
                                      
                                        pattern="dd/MM/yyyy" pages="1" effect="slideDown"
                                        showOtherMonths="true" selectOtherMonths="true"
                                        mask="true">
                            </p:calendar>

                            <label class="title-elem">#{msg['datatable.header.birthDay']} </label>
                        </span>
                        <p:message for="birthDay"></p:message>
                    </div>
                    <!--</div>-->
                    <!--        </p:fieldset>
                            <p:fieldset legend="# {msg['view.header.member.add.detail']}">-->
                    <!--<div class="Card">-->

                    <div class="Container25 Responsive50">
                        <span class="title-top">
                            <p:calendar value="#{clientController.curClient.startTime}"
                                        locale="#{language.localeCode}"
                                        maxdate="#{currentDate}" styleClass="CalendarSearch"
                                        id="startTime"
                                        showButtonPanel="false" style="width: calc(100% - 15px)"
                                        title="#{msg['client.startTime']}"
                                        
                                        pattern="dd/MM/yyyy HH:mm:ss" pages="1" effect="slideDown"
                                        showOtherMonths="true" selectOtherMonths="true"
                                        mask="true">
                            </p:calendar>
                            <label class="title-elem">#{msg['client.startTime']} *</label>
                        </span>
                        <p:message for="startTime"></p:message>
                    </div>

                    <div class="Container25 Responsive50">
                        <span class="title-top">
                            <p:calendar value="#{clientController.curClient.endTime}"
                                        locale="#{language.localeCode}"
                                        mindate="#{currentDate}" styleClass="CalendarSearch"
                                        id="endTime"
                                        showButtonPanel="false" style="width: calc(100% - 15px)"
                                        title="#{msg['client.endTime']}"
                                        
                                        pattern="dd/MM/yyyy HH:mm:ss" pages="1" effect="slideDown"
                                        showOtherMonths="true" selectOtherMonths="true"
                                        mask="true">
                            </p:calendar>

                            <label class="title-elem">#{msg['client.endTime']} *</label>
                        </span>
                        <p:message for="endTime"></p:message>
                    </div>
                </div>

                <div class="Container100 Responsive50 MarTop20">

                    <div class="Container25 Responsive50">
                        <span class="title-top">
                            <p:selectOneMenu id="status" disabled="#{clientController.curClient.status==1 or clientController.curClient.status==2}"
                                             value="#{clientController.curClient.status}"
                                             required="true"
                                             title="#{msg['datatable.header.status']}"
                                             style="width: 57%"
                                             requiredMessage="#{msg['common.required'].replace('{0}',msg['datatable.header.status'])}"
                                             >
                                <f:selectItem itemLabel="#{msg['label.choose']}"
                                              noSelectionOption="true"/>
                                <f:selectItem itemLabel="#{msg['view.label.status1']}"
                                              itemValue="1"/>
                                <f:selectItem itemLabel="#{msg['view.label.status2']}"
                                              itemValue="2"/>

                            </p:selectOneMenu>
                            <label class="title-elem">#{msg['datatable.header.status']} *</label>
                        </span>
                        <p:message for="status"></p:message>
                    </div>
                    <!--                </div>
                                    <div class="Container100 Responsive50 MarTop20">-->

                    <div class="Container25 Responsive50">

                        <span class="title-top">
                            <p:selectOneMenu id="branchId"
                                             value="#{clientController.curClient.branchId}"
                                             required="true" 
                                             title="#{msg['datatable.header.branchId']}"
                                              style="width: 57%" requiredMessage="#{msg['common.required'].replace('{0}',msg['datatable.header.branchId'])}"
                                             >
                                <f:selectItem itemLabel="#{msg['label.choose']}"
                                              noSelectionOption="true"/>
                                <f:selectItems value="#{branchController.branchs}" var="o"
                                               itemLabel="#{o.branchName}"
                                               itemValue="#{o.branchId}">

                                </f:selectItems>

                            </p:selectOneMenu>
                            <label class="title-elem">#{msg['datatable.header.branchId']} *</label>
                        </span>
                        <p:message for="branchId"/>
                    </div>
                    <div class="Container25 Responsive50">
                        <span class="title-top">
                            <p:autoComplete id="employeeId" value="#{clientController.curClient.employee}" completeMethod="#{employeeController.completeEmployee}"
                                            placeholder="#{msg['catUser.employee']}" converter="employeeConverter" dropdown="true"  scrollHeight="200"
                                            var="emp"  itemLabel="#{emp.employeeCode} #{emp.employeeName}" itemValue="#{emp}" >
                                <p:column><h:outputText value="#{emp.employeeCode}"/></p:column>
                                <p:column width="50"><h:outputText value="#{emp.employeeName}"/></p:column>
                                <p:column><h:outputText value="#{emp.jobTitle.jobTitleName}"/></p:column>
                                <p:column><h:outputText value="#{emp.telephone}"/></p:column>

                            </p:autoComplete>  
                            <label class="title-elem">#{msg['catUser.employee']}</label> 
                        </span>
                    </div>
                </div>
            </div>
        </p:fieldset>
        <div class="Card">
            <div class="Container100 Responsive50 TexAlRight">
                <p:commandButton value="#{msg['button.save']}" onclick="PF('block').show()"
                                 oncomplete="PF('block').hide()"
                                 actionListener="#{clientController.saveOrUpdate}" update=":clientForm,@widgetVar(growlClient)"/>
            </div>
        </div>
    </p:tab>
</ui:composition>